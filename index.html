<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slim Graph - Network Diagram Visualizer</title>

    <!-- External Dependencies (pinned versions for security/stability)
         TODO: Add Subresource Integrity (SRI) hashes for enhanced security
         See: https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity
         Note: Tailwind CDN (cdn.tailwindcss.com) doesn't support SRI as it's a JIT compiler -->
    <script crossorigin src="https://unpkg.com/react@18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/papaparse@5.4.1/papaparse.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/exceljs@4.3.0/dist/exceljs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
    <script src="https://cdn.tailwindcss.com/3.4.1"></script>

    <!-- Cytoscape.js for graph rendering (replaces Mermaid for visualization) -->
    <script src="https://cdn.jsdelivr.net/npm/cytoscape@3.30.4/dist/cytoscape.min.js"></script>

    <!-- fcose layout extension for intelligent compound graph layout -->
    <!-- Minimizes edge crossings, prevents overlaps, respects groups -->
    <script src="https://unpkg.com/layout-base/layout-base.js"></script>
    <script src="https://unpkg.com/cose-base/cose-base.js"></script>
    <script src="https://unpkg.com/cytoscape-fcose/cytoscape-fcose.js"></script>

    <!-- dagre layout extension for hierarchical layouts (like mermaidchart.com) -->
    <script src="https://cdn.jsdelivr.net/npm/dagre@0.8.5/dist/dagre.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/cytoscape-dagre@2.5.0/cytoscape-dagre.js"></script>

    <!-- Custom Styles -->
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <!-- Skip link for keyboard navigation -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Root element for React app -->
    <div id="root" role="application" aria-label="Slim Graph Network Diagram Visualizer"></div>

    <!-- Screen reader announcements -->
    <div id="a11y-announcer" class="sr-only" aria-live="polite" aria-atomic="true"></div>

    <!-- Initialize global namespace -->
    <script>
        window.GraphApp = {
            components: {},
            utils: {},
            core: {},
            data: {},
            exports: {},
            config: {}
        };
    </script>

    <!-- Load modules in dependency order -->
    <!-- 1. Icons and basic components -->
    <script src="js/components/icons.js"></script>
    <script src="js/components/errorBoundary.js"></script>

    <!-- 2. Utilities -->
    <script src="js/utils/utils.js"></script>

    <!-- 3. Configuration -->
    <script src="js/config/labels.js"></script>

    <!-- 4. Data -->
    <script src="js/data/sample-data.js"></script>

    <!-- 5. Core modules -->
    <script src="js/core/mermaid-generator.js"></script>
    <script src="js/core/cytoscape-renderer.js"></script>
    <script src="js/core/excel-handler.js"></script>
    <script src="js/core/exports.js"></script>

    <!-- 6. Commands (undo/redo) -->
    <script src="js/commands/snapshotHistory.js"></script>

    <!-- 7. Main App (must be loaded last) -->
    <script src="js/app.js"></script>
</body>
</html>
